{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold text-danger">TextCanvas</h1>
        <p class="lead text-danger">A Image to Text generator App Made By Zachory Pelletier.</p>
        <!-- Updated Tip Styling: Black BG, Red Text -->
        <div class="d-inline-block mt-3 p-2 rounded bg-black">
            <small class="text-danger"><strong>Tip:</strong> Use <kbd class="bg-danger text-white">Arrow Keys</kbd> to move and <kbd class="bg-danger text-white">Enter</kbd> to select.</small>
        </div>
    </div>
    
    <div class="row g-4 justify-content-center">
        <!-- Generator -->
        <div class="col-md-6 col-lg-3">
            <a href="{{ url_for('page3') }}" class="text-decoration-none nav-card-link" tabindex="0">
                <div class="card h-100 shadow-sm p-4 hover-effect d-flex align-items-center justify-content-center text-center">
                    <div class="card-title-split">
                        <span class="title-main text-danger">TextCanvas</span>
                        <span class="title-sub text-danger">IMG to Text Generator</span>
                    </div>
                </div>
            </a>
        </div>

        <!-- Batch -->
        <div class="col-md-6 col-lg-3">
            <a href="{{ url_for('page4') }}" class="text-decoration-none nav-card-link" tabindex="0">
                <div class="card h-100 shadow-sm p-4 hover-effect d-flex align-items-center justify-content-center text-center">
                    <div class="card-title-split">
                        <span class="title-main text-danger">TextCanvas</span>
                        <span class="title-sub text-danger">IMG to Text Batch Generator</span>
                    </div>
                </div>
            </a>
        </div>

        <!-- Instructions -->
        <div class="col-md-6 col-lg-3">
            <a href="{{ url_for('page1') }}" class="text-decoration-none nav-card-link" tabindex="0">
                <div class="card h-100 shadow-sm p-4 hover-effect d-flex align-items-center justify-content-center text-center">
                    <h5 class="fw-bold text-danger m-0">Instructions</h5>
                </div>
            </a>
        </div>

        <!-- About -->
        <div class="col-md-6 col-lg-3">
            <a href="{{ url_for('page2') }}" class="text-decoration-none nav-card-link" tabindex="0">
                <div class="card h-100 shadow-sm p-4 hover-effect d-flex align-items-center justify-content-center text-center">
                    <h5 class="fw-bold text-danger m-0">About</h5>
                </div>
            </a>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const cards = Array.from(document.querySelectorAll('.nav-card-link'));
        let focusIndex = -1;
        document.addEventListener('keydown', (e) => {
            if (['ArrowRight', 'ArrowLeft', 'ArrowDown', 'ArrowUp'].includes(e.key)) {
                e.preventDefault();
                if (focusIndex === -1) focusIndex = 0;
                else {
                    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') focusIndex = (focusIndex + 1) % cards.length;
                    else focusIndex = (focusIndex - 1 + cards.length) % cards.length;
                }
                cards[focusIndex].focus();
            }
            if (e.key === 'Enter' && document.activeElement.classList.contains('nav-card-link')) {
                window.location.href = document.activeElement.getAttribute('href');
            }
        });
    });
</script>
{% endblock %}